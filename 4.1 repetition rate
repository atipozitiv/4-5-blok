/**********************************
* ПИ-221                          *
* Иванов Тимофей                  *
* Частота повторений              *
* 02.11.2022                      *
**********************************/

//https://onlinegdb.com/CgWgqsueED

#include <iostream>
#include <fstream>
#include <string>
using namespace std;

void findCount(char word, string text) {
  int countSymbol = 0;
  while (text.find(word) != -1) {
    countSymbol +=1;
    text.replace(text.find(word), 1, "");
  }
  if (countSymbol > 1){
    cout << "количество символов " << word << " = " << countSymbol << "\n";
  }
}

void findCount2(string combo, string text) {
  int countCombo = 0;
  int start = 0;
  while (text.find(combo, start) != -1) {
    countCombo +=1;
    start = text.find(combo, start) + 1;           //start считает не с 0, а с 1;
  }
  if (countCombo > 1){
    cout << "количество двухбуквенного сочетания " << combo << " = " << countCombo << "\n";
  }
}

int main() {
  fstream file;
  file.open("sword");
  if (!file.is_open()) {
    cout << "файл не найден";
    return 0;
  }
  
  string str;
  string strX;
  while (getline(file, str)) {
    strX += str + " ";
  }
  
  string alphabet = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
  
  string worked;
  for (int countSymbol = 0; countSymbol < strX.length(); ++countSymbol) {
    if (alphabet.find(strX[countSymbol]) != -1 && worked.find(strX[countSymbol]) == -1) {
      findCount(strX[countSymbol], strX);
    }
    worked += strX[countSymbol];
  }
  
  string worked2;
  for (int countSymbol = 0; countSymbol < strX.length() - 1; ++countSymbol) {
    if (alphabet.find(strX[countSymbol]) != 1 && alphabet.find(strX[countSymbol + 1]) != -1) {
      string combo;
      combo = combo + strX[countSymbol] + strX[countSymbol + 1];
      if (worked2.find(combo) == -1) {
        findCount2(combo, strX);
        worked2 = worked2 + combo + " ";
      }
    }
  }
  return 0;
}
